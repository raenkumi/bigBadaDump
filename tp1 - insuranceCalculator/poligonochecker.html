<!DOCTYPE html>
<html>
    <head>
        <title>Poligon Checker</title>
        <script>
            var rectangles = {}
            let timesClicked = 0;

            document.onmousemove = function() {
                var position = {
                    x: event.pageX,
                    y: event.pageY,
                }
                for (i = 0; i < timesClicked; i++) {
                    let rx1 = rectangles[i][2];
                    //let rx2 = rectangles.i[4];
                    if (position.x > rx1){
                        console.log(position.x, rx1);
                    }
                }
            }

            function polygonDraw() {
                var vertex = {
                    x1: 30,
                    y1: 30,
                    x2: Number((Math.random() * 600).toFixed(0)) + 30,
                    y2: Number((Math.random() * 200).toFixed(0)) + 30,
                }
                polygonPrint(vertex);
                polygonHolder(vertex);
            }

            function polygonPrint(r) {
                var c = document.getElementById("canvas");
                var ctx = c.getContext("2d");
                ctx.rect(r.x1, r.y1, r.x2, r.y2);
                console.log(r.x1, r.y1, r.x2, r.y2);
                ctx.lineWidth = 2;
                ctx.stroke();
            }

            function polygonHolder(v) {
                let i = timesClicked;
                rectangles[i] = [v.x1, v.y1, v.x2, v.y2];
                timesClicked++;
                console.log(rectangles);
            }
        </script>
        <style>
            * {margin:0; padding:0}
        </style>
    </head>
    <body>
        <button value="" onclick="polygonDraw()">Desenhar Ret√¢ngulo!</button>
        <canvas id="canvas" width="900" height="500" style="border:1px solid #d3d3d3;"></canvas>
    </body>
</html>